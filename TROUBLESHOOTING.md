# üîß Troubleshooting Guide\n\n> Solutions to common issues encountered during setup and operation\n\n## üö® Critical Issues & Solutions\n\n### Issue 1: Kaggle CLI Command Not Found\n\n**Symptoms:**\n```bash\n./script.sh: line 26: kaggle: command not found\n```\n\n**Solutions:**\n```bash\n# Option A: Install with pipx (recommended)\npipx install kaggle\n\n# Option B: Install with pip\npip3 install kaggle\n\n# Option C: Install in virtual environment\npython3 -m venv kaggle-env\nsource kaggle-env/bin/activate\npip install kaggle\n\n# Verify installation\nwhich kaggle\nkaggle --version\n```\n\n### Issue 2: API Authentication Failed\n\n**Symptoms:**\n```bash\n‚ùå API authentication failed\nUnauthorized: Invalid credentials\n```\n\n**Solutions:**\n```bash\n# 1. Check kaggle.json exists and has correct permissions\nls -la ~/.kaggle/kaggle.json\n# Should show: -rw------- (600 permissions)\n\n# 2. Verify JSON format\ncat ~/.kaggle/kaggle.json\n# Should be: {\"username\":\"your-user\",\"key\":\"your-key\"}\n\n# 3. Test credentials directly\nkaggle competitions list -p 1\n\n# 4. Regenerate API key if needed\n# Go to: https://www.kaggle.com/settings/account\n# Click \"Create New API Token\"\n```\n\n### Issue 3: Python Variable Scope Errors\n\n**Symptoms:**\n```bash\nNameError: name 'NOTEBOOK_NAME' is not defined\nAttributeError: 'str' object has no attribute 'insert'\n```\n\n**Solutions:**\n```python\n# Fixed version with proper variable handling:\npython3 << EOF\nimport json\n\n# Define variables inside Python scope\nnotebook_name = \"$NOTEBOOK_NAME\"\nnotebook_url = \"$NOTEBOOK_URL\"\n\n# Handle cell source format variations\nfor cell in nb['cells']:\n    if cell['cell_type'] == 'code':\n        # Ensure source is always a list\n        if isinstance(cell['source'], str):\n            cell['source'] = cell['source'].split('\\n')\n        # Now safe to use list methods\n        cell['source'].insert(0, '# Enhanced code\\n')\nEOF\n```\n\n### Issue 4: Permission Denied on Scripts\n\n**Symptoms:**\n```bash\nzsh: permission denied: ./script.sh\n```\n\n**Solutions:**\n```bash\n# Make scripts executable\nchmod +x *.sh\n\n# Or make specific script executable\nchmod +x scripts/check_setup.sh\n\n# Verify permissions\nls -la scripts/\n# Should show: -rwxr-xr-x for executable scripts\n```\n\n### Issue 5: Repository Not Found (GitHub)\n\n**Symptoms:**\n```bash\nERROR: Repository not found.\nfatal: Could not read from remote repository.\n```\n\n**Solutions:**\n```bash\n# 1. Use public repositories for testing\n./mirror_to_kaggle.sh https://github.com/microsoft/ML-For-Beginners\n\n# 2. For private repos, ensure SSH keys are configured\nssh -T git@github.com\n\n# 3. Use HTTPS with token for private repos\ngit clone https://username:token@github.com/user/private-repo.git\n```\n\n## ‚ö†Ô∏è Common Pitfalls\n\n### Pitfall 1: Using Old Kaggle CLI Syntax\n\n**Wrong:**\n```bash\nkaggle competitions list --page-size 5\nkaggle kernels list --page-size 10\n```\n\n**Correct:**\n```bash\nkaggle competitions list -p 5\nkaggle kernels list -p 10\n```\n\n### Pitfall 2: Hardcoding Credentials\n\n**Wrong:**\n```bash\nKAGGLE_USERNAME=\"anixlynch\"\nKAGGLE_KEY=\"8b280e6807...\"\n```\n\n**Correct:**\n```bash\n# Load from environment\nsource ~/.mcp-env/.env\n# Or use environment variables\nexport KAGGLE_USERNAME=\"your-username\"\nexport KAGGLE_KEY=\"your-key\"\n```\n\n### Pitfall 3: Ignoring Rate Limits\n\n**Problem:** Too many rapid API calls\n**Solution:** Add delays between operations\n```bash\n# Add sleep between operations\nfor notebook in $notebook_list; do\n    process_notebook \"$notebook\"\n    sleep 30  # Wait 30 seconds between uploads\ndone\n```\n\n## üîç Debugging Techniques\n\n### Debug Mode Activation\n```bash\n# Enable verbose output\nset -x  # Show all commands\nset -e  # Exit on first error\nset -u  # Exit on undefined variables\n\n# Or use in scripts:\n#!/bin/bash\nset -xeu\n```\n\n### API Response Debugging\n```bash\n# Test API with verbose output\nkaggle competitions list -p 1 -v\n\n# Check API quota\nkaggle config view\n```\n\n### Python Debugging\n```python\n# Add debug prints in Python sections\nprint(f\"Debug: notebook_name = {notebook_name}\")\nprint(f\"Debug: cell count = {len(nb['cells'])}\")\nprint(f\"Debug: cell types = {[cell['cell_type'] for cell in nb['cells']]}\")\n```\n\n## üõ†Ô∏è Environment-Specific Issues\n\n### macOS Issues\n\n**Issue:** Certificate verification errors\n```bash\n# Install certificates\n/Applications/Python\\ 3.x/Install\\ Certificates.command\n\n# Or bypass SSL (not recommended for production)\nexport PYTHONHTTPSVERIFY=0\n```\n\n**Issue:** Permission issues with Homebrew Python\n```bash\n# Use user installation\npip3 install --user kaggle\n\n# Add to PATH\necho 'export PATH=\"$HOME/.local/bin:$PATH\"' >> ~/.zshrc\nsource ~/.zshrc\n```\n\n### Linux Issues\n\n**Issue:** Missing system dependencies\n```bash\n# Ubuntu/Debian\nsudo apt-get update\nsudo apt-get install python3-pip git curl\n\n# CentOS/RHEL\nsudo yum install python3-pip git curl\n```\n\n### Windows Issues\n\n**Issue:** Path separator problems\n```bash\n# Use forward slashes or double backslashes\npath=\"C:/Users/username/.kaggle/kaggle.json\"\n# OR\npath=\"C:\\\\Users\\\\username\\\\.kaggle\\\\kaggle.json\"\n```\n\n## üìä Performance Optimization\n\n### Speed Up Notebook Processing\n```python\n# Use faster JSON processing\nimport orjson  # Faster than json\n\n# Stream large files\ndef process_large_notebook(file_path):\n    with open(file_path, 'rb') as f:\n        nb = orjson.loads(f.read())\n    # Process...\n    with open(output_path, 'wb') as f:\n        f.write(orjson.dumps(nb))\n```\n\n### Parallel Processing\n```bash\n# Process multiple notebooks in parallel\necho \"notebook1.ipynb\\nnotebook2.ipynb\\nnotebook3.ipynb\" | \\\nxargs -n 1 -P 3 -I {} ./process_single_notebook.sh {}\n```\n\n### Memory Management\n```bash\n# Monitor memory usage\nps aux | grep python\n\n# Limit memory for large operations\nulimit -v 2097152  # Limit virtual memory to 2GB\n```\n\n## üîÑ Recovery Procedures\n\n### Failed Upload Recovery\n```bash\n# Check upload status\nkaggle kernels status your-kernel-id\n\n# Retry with exponential backoff\nretry_count=0\nmax_retries=3\nwhile [ $retry_count -lt $max_retries ]; do\n    if kaggle kernels push -p .; then\n        echo \"Upload successful!\"\n        break\n    else\n        retry_count=$((retry_count + 1))\n        wait_time=$((2 ** retry_count))\n        echo \"Retry $retry_count failed, waiting $wait_time seconds\"\n        sleep $wait_time\n    fi\ndone\n```\n\n### Workspace Cleanup\n```bash\n# Clean up failed workspaces\nfind . -name \"workspace_*\" -type d -mtime +1 -exec rm -rf {} \\;\n\n# Clean up temporary files\nfind . -name \"*.tmp\" -delete\nfind . -name \"*.log\" -mtime +7 -delete\n```\n\n## üìû Getting Help\n\n### Self-Diagnosis Checklist\n1. [ ] Kaggle CLI installed and in PATH\n2. [ ] API credentials configured correctly\n3. [ ] Scripts have execute permissions\n4. [ ] Environment variables loaded\n5. [ ] Internet connectivity working\n6. [ ] Sufficient disk space available\n7. [ ] Python 3.6+ installed\n\n### Useful Commands for Support\n```bash\n# System information\nuname -a\npython3 --version\nkaggle --version\nwhich kaggle\necho $PATH\n\n# Environment check\nenv | grep KAGGLE\nls -la ~/.kaggle/\ncat ~/.kaggle/kaggle.json\n\n# Recent logs\ntail -20 ~/kaggle_activity.csv\nls -la workspace_*\n```\n\n### Community Resources\n- **GitHub Issues**: Report bugs and request features\n- **Documentation**: Check latest updates and examples\n- **Stack Overflow**: Search for similar issues\n- **Kaggle Forums**: Platform-specific questions\n\n---\n\n*This guide covers the most common issues encountered during setup and operation. For additional support, please check the GitHub repository or create an issue with your specific problem and the diagnostic information above.*